<project name="DevEnvironmentMacros" xmlns:unless="ant:unless">
	
	<!--
		install.dir - The directory will Apache Ant will be installed.
		archive - The zip archive containing the Apache Ant installation files.
	-->
	<macrodef name="devEnvronment.install.ant.logic" description="Installs Apache Ant 1.9.2">
		<attribute name="install.dir"/>
		<attribute name="archive"/>
		<sequential>
		  	
		  	<echo>Installing Apache Ant 1.9.2</echo>
			
		  	<!-- since we are setting an environment variable on windows, replace the / with \ -->
		  	<property name="incorrectInstall.dir" value="@{install.dir}"/>
			<global.replaceInProperty inputProperty="incorrectInstall.dir" outputProperty="correctedInstall.dir" find="/" replaceWith="\"/>
			
		  	<echo>Installation directory: ${correctedInstall.dir}</echo>
		  	<unzip src="@{archive}" dest="@{install.dir}"/>
		  	<global.setSystemEnvironmentVariable name="ANT_HOME" value="${correctedInstall.dir}"/>
			<global.updatePathEnvironmentVariable value="%ANT_HOME%\bin"/>
			
		</sequential>
	</macrodef>
	
	<macrodef name="devEnvronment.install.ant" description="Installs Apache Ant 1.9.2">
		<sequential>
		  	
			<property name="GOOGLE_DRIVE_HOME" value="${env.GOOGLE_DRIVE_HOME}" />
			<property name="install.dir" value="${GOOGLE_DRIVE_HOME}/Lunar Grin/Games/Project Freedom/DevSetup/install" />
			
			<devEnvronment.install.ant archive="${install.dir}/java/apache-ant-1.9.2-bin.zip" install.dir="${ant.install.dir}" />
			
		</sequential>
	</macrodef>
	
	<macrodef name="devEnvironment.setEnvironmentVariables" description="One time setup of development environment variables as specified in build.properties">
		<sequential>
			
			<global.setSystemEnvironmentVariable name="GOOGLE_DRIVE_HOME" value="${googleDriveBase.dir}" />
			
			<echo/>
			<echo>-----------------------------------------------------------------------------------------------</echo>
			<echo>IMPORTAT: Remember to restart applications for new evironment variable settings to take affect!</echo>
			<echo>-----------------------------------------------------------------------------------------------</echo>
			<echo>If you see "ERROR: Access to the registry path is denied." listed above, you need to run this script as Administrator!</echo>
			
		</sequential>
	</macrodef>
	
	
</project>