<project name="DevEnvironmentMacros" xmlns:unless="ant:unless">
	
	<!-- install.dir should contain forward slashes, since that is what Ant uses by default -->
	<macrodef name="devEnvronment.install.ant" description="Installs Apache Ant 1.9.2">
		<attribute name="install.dir"/>
		<attribute name="archive"/>
		<sequential>
		  	
		  	<echo>Installing Apache Ant 1.9.2</echo>
			
		  	<!-- since we are setting an environment variable on windows, replace the / with \ -->
		  	<property name="incorrectInstall.dir" value="@{install.dir}"/>
			<global.replaceInProperty inputProperty="incorrectInstall.dir" outputProperty="correctedInstall.dir" find="/" replaceWith="\"/>
			
		  	<echo>Installation directory: ${correctedInstall.dir}</echo>
		  	<unzip src="@{archive}" dest="@{install.dir}"/>
		  	<global.setSystemEnvironmentVariable name="ANT_HOME" value="${correctedInstall.dir}"/>
			<global.updatePathEnvironmentVariable value="%ANT_HOME%\bin"/>
			
		</sequential>
	</macrodef>
	
</project>